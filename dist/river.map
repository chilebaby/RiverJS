{"version":3,"file":"dist/river.min.js","sources":["lib/cmd.js","lib/engine.js","lib/scenario.js","lib/core/Date.js","lib/core/model.js","lib/core/tool.js","lib/grammer/jbind.js","lib/grammer/jchange.js","lib/grammer/jclick.js","lib/grammer/jcompile.js","lib/grammer/jon.js","lib/grammer/repeat.js","lib/grammer/scope.js"],"names":["_$river","sandbox","boxes","create","key","fn","toLowerCase","run","context","need","mod","Object","exports","api","call","undefined","keys","length","module","source","F","prototype","define","main","loadGrammer","me","checkAttributes","doc","fatherContext","state","hasRepeat","newContext","scope","node","eom","reg","attributes","i","attr","nodeName","value","nodeValue","replace","grammer","tool","inherit","isFunction","checkText","test","push","element","expression","ns","split","JSON","stringify","checkChildren","childNodes","child","s","scan","this","document","addEventListener","_trigger","type","event","createEvent","initEvent","dispatchEvent","_keyboard","keycode","charCode","evt","view","altKey","ctrlKey","shiftKey","metaKey","keyCode","trigger","toString","format","o","M+","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","q+","Math","floor","S","getMilliseconds","RegExp","$1","getFullYear","substr","k","getDateByCity","jetleg","now","Date","local","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","parseInt","getUTCMinutes","getUTCSeconds","date","f","update","last","oldvalue","isEqual","isString","isNumber","loop","ele","fns","__listeners__","len","isArray","diff","isObject","each","item","index","expect","tools","container","repeatContainer","cnt","newvalue","exists","toEqual","neweom","getNewEom","refnode","children","cover","splice","insertBefore","repeat","removeChild","x","d","parentscope","trans","repeatNode","_r","_n","cloneNode","m","__eom__","__last__","clone","Model","ref","_$value","apply","_eom","val","father","getPrototypeOf","watch","onchange","id","lis","inject","target","hasOwnProperty","y","z","compile","str","createElement","innerHTML","guid","uid","n","random","array","obj","name","window","result","hasChild","_diffFlag","equal","isValue","no","require","jbind","newValue","oldValue","setValue","getValue","interval","onfocus","setInterval","onblur","clearInterval","TypeError","childscope","change","click","param","match","args","argsdata","onclick","textContent","on","e","concat","loadGrammar","pro","afterIn","data","beforeIn","parentNode","frg","createDocumentFragment","removeAttribute","__children__","forEach","$tool","appendChild","Array","ch","_scope","model","mo"],"mappings":"AAMA,GAAIA,UAEFC,QAAS,WACP,GAAIC,KACJ,QACEC,OAAQ,SAASC,EAAKC,GACpBD,EAAMA,EAAIE,cACVJ,EAAME,GAAOC,GAEfE,IAAK,SAASF,GACZ,GAAIG,IACFC,KAAM,SAASL,GACbA,EAAMA,EAAIE,aACV,IAAII,GAAMC,OAAOR,OAAOK,EACxBE,GAAIE,UACJ,IAAIC,GAAMX,EAAME,IAAQF,EAAME,GAAKU,KAAKJ,EAAIA,EAAIE,QAAQF,EAAID,KAAKC,IAAQK,MAEzE,OADAF,GAA6B,kBAAhBH,GAAIE,QAAyBF,EAAIE,QAAUD,OAAOK,KAAKN,EAAIE,SAASK,OAASP,EAAIE,QAAUC,GAG1GD,WAEFP,GAAGS,KAAKN,EAAQA,EAAQI,QAAQJ,EAAQC,KAAKD,MAKrDR,SAAQkB,OAASlB,QAAQC,UAEzBU,OAAOR,OAASQ,OAAOR,QAAU,SAASgB,GACxC,GAAIC,GAAI,YAER,OADAA,GAAEC,UAAYF,EACP,GAAIC,GAUb,IAAIE,QAAStB,QAAQkB,OAAOf,OACxBoB,KAAOvB,QAAQkB,OAAOX,GChD1Be,QAAO,eAAe,WAIpB,QAASE,GAAYpB,GACnB,MAAOqB,GAAGhB,KAAK,iBAAmBL,GAQpC,QAASsB,GAAgBC,EAAKC,GAC5B,GAAIC,IACFC,WAAW,EACXtB,QAASoB,GAEPG,GACFC,SACAC,KAAMN,EACNO,OACAC,IAAKA,EAGP,IAAIR,EAAIS,YAAcT,EAAIS,WAAWnB,OACnC,IAAI,GAAIoB,GAAI,EAAEA,EAAEV,EAAIS,WAAWnB,OAAOoB,IAAI,CACxC,GAAIC,GAAMX,EAAIS,WAAWC,GACrBjC,EAAMkC,EAAKC,SACXC,EAAQF,EAAKG,UAAUC,QAAQP,EAAK,IACpCQ,EAAUnB,EAAYpB,EAuB1B,IArBI,UAAYA,GAEdyB,EAAMrB,QAAUuB,EAChBY,EAAQ7B,KAAKe,EAAMrB,QAASgC,EAAMX,EAAMrB,QAAQwB,MAAMH,EAAMrB,QAAQyB,MAChEL,GAEFgB,EAAKC,QAAQhB,EAAMrB,QAAQwB,MAAOJ,EAAcI,QAG9CY,EAAKE,WAAWH,KACdd,EAAMrB,SACRqB,EAAMrB,QAAQyB,KAAON,EACrBgB,EAAQ7B,KAAKe,EAAMrB,QAASgC,EAAMX,EAAMrB,QAAQwB,MAAMH,EAAMrB,QAAQyB,MACpEc,EAAUT,EAAMT,EAAMrB,WAEtBqB,EAAMrB,QAAUuB,EAChBP,EAAY,SAASV,KAAKe,EAAMrB,QAASgC,GACzCG,EAAQ7B,KAAKe,EAAMrB,QAASgC,EAAMX,EAAMrB,QAAQwB,MAAMH,EAAMrB,QAAQyB,QAItE,WAAa7B,EAAK,CACpByB,EAAMC,WAAY,CAClB,QAIN,MAAOD,GAGT,QAASkB,GAAUpB,EAAKnB,GACtB,GAAI2B,EAAIa,KAAKrB,EAAIc,WAAY,CAC3B,GAAIrC,GAAMuB,EAAIc,UAAUC,QAAQ,SAAS,IAAIA,QAAQP,EAAK,GACrD3B,GAAQ0B,IAAI9B,KACfI,EAAQ0B,IAAI9B,OAEdI,EAAQ0B,IAAI9B,GAAK6C,MACfC,QAASvB,EACTwB,WAAYxB,EAAIc,WAKlB,KAAI,GAFAW,GAAKhD,EAAIiD,MAAM,KACfb,KACIH,EAAE,EAAEA,EAAEe,EAAGnC,OAAOoB,IACF,gBAAVG,KACRA,EAAQA,EAAMY,EAAGf,KAAO7B,EAAQwB,MAAMoB,EAAGf,IAG7CG,GAAwB,gBAATA,GAAoBc,KAAKC,UAAUf,GAASA,EAC3Db,EAAIc,UAAYd,EAAIc,UAAUC,QAAQ,SAAS,IAAIA,QAAQ,SAAUF,IAIzE,QAASgB,GAAc7B,EAAKE,GAC1B,GAAIF,EAAI8B,YAAc9B,EAAI8B,WAAWxC,OACnC,IAAI,GAAIoB,GAAE,EAAEA,EAAEV,EAAI8B,WAAWxC,OAAOoB,IAAI,CACtC,GAAIqB,GAAQ/B,EAAI8B,WAAWpB,GACvB7B,EAAUqB,EAAQA,EAAMrB,QAAUO,OAClC4C,EAAIC,EAAKF,EAAOlD,EACpB,IAAGmD,EAAE7B,UAAW,OAOtB,QAAS8B,GAAKjC,EAAKnB,GACjB,GAAIqB,GAAQH,EAAgBC,EAAKnB,EAWjC,OAVIqB,GAAMrB,SACRuC,EAAUpB,EAAKE,EAAMrB,SAEnB,SAAWmB,EAAIY,UAAY,QAAUZ,EAAIY,UAAaV,EAAMC,YAC1DD,EAAMrB,QACRgD,EAAc7B,EAAKE,GAEnB2B,EAAc7B,IAGXE,EA5GT,GAAIJ,GAAKoC,KACPjB,EAAOnB,EAAGhB,KAAK,oBAMb0B,EAAM,kBAwGV,QACEyB,KAAKA,KAKTrC,KAAK,WACH,GAAIE,GAAKoC,IACTC,UAASC,iBAAiB,mBAAoB,WAC5C,GAAIH,GAAOnC,EAAGhB,KAAK,gBAAgBmD,IACnCA,GAAKE,cC3HTxC,OAAO,iBAAiB,WAStB,QAAS0C,GAAUC,EAAKf,GAEtB,GAAIgB,GAAQJ,SAASK,YAAY,cACjCD,GAAME,UAAUH,GAAK,GAAK,GAC1Bf,EAAQmB,cAAcH,GAGxB,QAASI,GAAWL,EAAMM,EAAQC,EAAUtB,GAE1C,GAAIuB,GAAMX,SAASK,YAAY,SAC/BM,GAAIL,UAAUH,GAAM,GAAM,GAC1BQ,EAAIC,KAAO,KACXD,EAAIE,QAAS,EACbF,EAAIG,SAAU,EACdH,EAAII,UAAW,EACfJ,EAAIK,SAAU,EACdL,EAAIM,QAAUR,EACdE,EAAID,SAAWA,EAEftB,EAAQmB,cAAcI,GA1BZZ,KAAKpD,KAAK,mBA6BtB,QACEuE,QAAQhB,EACR5D,IAAIkE,KCjCRhD,OAAO,kBAAmB,WAqBxB,QAAS2D,GAASC,GAChB,GAAIC,IACFC,KAAMvB,KAAKwB,WAAa,EACxBC,KAAMzB,KAAK0B,UACXC,KAAM3B,KAAK4B,WACXC,KAAM7B,KAAK8B,aACXC,KAAM/B,KAAKgC,aACXC,KAAMC,KAAKC,OAAOnC,KAAKwB,WAAa,GAAK,GACzCY,EAAKpC,KAAKqC,kBAGR,QAAOlD,KAAKkC,KAASA,EAASA,EAAOxC,QAAQyD,OAAOC,IAAKvC,KAAKwC,cAAgB,IAAIC,OAAO,EAAIH,OAAOC,GAAGnF,SAC3G,KAAK,GAAIsF,KAAKpB,GAAO,GAAIgB,QAAO,IAAMI,EAAI,KAAKvD,KAAKkC,KAChDA,EAASA,EAAOxC,QAAQyD,OAAOC,GACT,GAApBD,OAAOC,GAAGnF,OAAckE,EAAEoB,IACzB,KAAOpB,EAAEoB,IAAID,QAAQ,GAAKnB,EAAEoB,IAAItF,SACvC,OAAOiE,GAnCT,GAAIsB,GAAgB,SAASC,GAC3B,GAAIC,GAAM,GAAIC,MACVC,EAAQ,GAAID,MACdD,EAAIG,iBACJH,EAAII,cACJJ,EAAIK,aACJL,EAAIM,cAAgBC,SAASR,GAC7BC,EAAIQ,gBACJR,EAAIS,gBAEN,QACEC,KAAMR,EACN3B,SAAU,SAASoC,GAEjB,MADAT,GAAM3B,SAAWA,EACV2B,EAAM3B,SAASoC,KAyB5B,QACEb,cAAeA,KC1CnBlF,OAAO,mBAAoB,WAazB,QAASgG,GAAO9E,EAAOpC,EAAK8B,EAAKqF,GAC/B,GAAIvF,GAAQ6B,KACR2D,EAAWD,EAAKnH,GAChBqH,EAAUjF,GAASgF,CACvB,KAAGC,EACH,GAAIC,EAASlF,IAAUmF,EAASnF,GAAQ,CACtC,GAAGN,GAAOA,EAAI9B,GAAK,CACjBwH,EAAK1F,EAAI9B,GAAM,SAASyH,GACtBA,EAAI3E,QAAQT,UAAYoF,EAAI1E,WAAWT,QAAQ,SAAUF,GAC9B,SAAxBqF,EAAI3E,QAAQX,WACbsF,EAAI3E,QAAQV,MAAQqF,EAAI1E,WAAWT,QAAQ,SAAUF,KAIzD,IAAIsF,GAAM9F,EAAM+F,eAAiB/F,EAAM+F,cAAc3H,EACrD,IAAG0H,EACD,IAAK,GAAIzF,GAAI,EAAG2F,EAAMF,EAAI7G,OAAY+G,EAAJ3F,EAASA,IACzCyF,EAAIzF,GAAGG,EAAM+E,EAAKnH,IAIxBmH,EAAKnH,GAAOoC,MACHyF,GAAQzF,IACjB+E,EAAKnH,GAAOoH,EAAWA,KACvBU,EAAK1F,EAAM+E,EAAKnH,GAAK8B,EAAI9B,GAAK4B,EAAM5B,EAAImH,IAC/BY,EAAS3F,KAClBgF,EAAWA,EAAWA,KACtBY,EAAK5F,EAAO,SAAS6F,EAAMC,GACzBhB,EAAOxG,KAAKkB,EAAMqG,EAAMC,EAAOpG,EAAI9B,GAAMoH,MAK/C,QAASU,GAAK1F,EAAMgF,EAAStF,EAAIF,EAAM5B,EAAImH,GAKzC,IAAK,GAJDS,GAAMxF,EAAMvB,QAAUuG,EAASvG,OAASuB,EAAMvB,OAASuG,EAASvG,OAChEsH,EAASC,EAAMD,OACfE,EAAYvG,EAAIwG,gBAChBC,EAAM,EACDtG,EAAI,EAAQ2F,EAAJ3F,EAASA,IAAK,CAC7B,GAAIuG,GAAWpG,EAAMH,GACjBwG,EAA6B,mBAAbD,EACpB,IAAGC,IAAWN,EAAOK,GAAUE,QAAQtB,EAASnF,IAAI,CAClD,GAAI0G,GAASC,EAAU9G,EAAI0G,EAAS5G,EAAM5B,EAAIiC,EAAEkF,GAC5C0B,EAAUR,EAAUS,SAAS7G,EAEX,iBAAZuG,IACRpB,EAASnF,GAAKmF,EAASnF,OACvB8G,EAAM3B,EAASnF,GAAGuG,IAElBpB,EAASnF,GAAKuG,EAEhB1G,EAAIkH,OAAO/G,EAAE,EAAE0G,GACfN,EAAUY,aAAaN,EAAOO,OAAOL,GAClCA,GAAQR,EAAUc,YAAYN,OACzBJ,KACRrB,EAAS4B,OAAO/G,EAAEsG,EAAI,GACtBzG,EAAIkH,OAAO/G,EAAEsG,EAAI,GACjBF,EAAUc,YAAYd,EAAUS,SAAS7G,EAAEsG,IAC3CA,MAKN,QAASQ,GAAM3B,EAASoB,GACtB,IAAI,GAAIY,KAAKZ,GACXpB,EAASgC,GAAKZ,EAASY,GAe3B,QAASR,GAAU9G,EAAIuH,EAAEC,EAAYtG,EAAGkF,EAAMf,GAC5C,GAAIoC,GAAQzH,EAAIyH,MACZ1H,EAAOC,EAAI0H,WACXC,EAAK3H,EAAIC,IACT/B,EAAM8B,EAAI9B,IACV0J,EAAK7H,EAAK8H,WAAU,GACpBC,KACA5I,EAAI,SAASiG,GACfxD,KAAKoG,WACLpG,KAAKqG,YACLrG,KAAKkE,iBACLlE,KAAKzD,GAAOiH,EACZxD,KAAKoG,QAAQ7J,GAAO4J,EACpBnG,KAAKqG,SAAS9J,GAAOmH,EAAKnE,IAAOmE,EAAKnE,GAAIkF,IAAUE,EAAM2B,MAAMV,GAElErI,GAAEC,UAAYqI,CACd,IAAIhJ,GAAM,GAAIU,GAAEqI,EAGhB,OAFAE,GAAME,EAAIC,EAAIpJ,EAAKN,EAAK4J,GACxBA,EAAEV,OAASQ,EACJE,EAIT,QAASI,GAAMC,GACb,GAAkB,gBAARA,GACT,IAAI,GAAIb,KAAKa,GACXxG,KAAK2F,GAAKa,EAAIb,OAGf3F,MAAKyG,QAAUD,CAEjBxG,MAAKkE,iBAUP,QAASwC,KACP,GAAIC,GAAO3G,KAAKoG,QACZ1C,EAAO1D,KAAKqG,SACZlI,EAAQ6B,IACR2G,IAEJpC,EAAKvE,KAAM,SAAS4G,EAAKnC,GACpB,KAAKtF,KAAKsF,IACTkC,EAAKlC,KAAWE,EAAMD,OAAOhB,EAAKe,IAAQQ,QAAQ2B,IACpDnD,EAAOxG,KAAKkB,EAAMyI,EAAKnC,EAAOkC,EAAKjD,KA7IzC,GAAIiB,GAAQ3E,KAAKpD,KAAK,oBAIlBwH,EAAWO,EAAMP,QACjBE,EAAWK,EAAML,SACjBT,EAAWc,EAAMd,SACjBC,EAAWa,EAAMb,SACjBS,EAAWI,EAAMJ,KACjBR,EAAWY,EAAMZ,IAwJrB,OApCAwC,GAAM/I,UAAUkJ,MAAQ,WACtB,GAAIG,GAAS/J,OAAOgK,eAAe9G,MAC/BpC,EAAKoC,IACT0G,GAAMzJ,KAAKW,GACX8I,EAAMzJ,KAAK4J,IAkBbN,EAAM/I,UAAUuJ,MAAQ,aAExBR,EAAM/I,UAAUwJ,SAAW,SAASC,EAAGzK,GACrC,GAAI0K,GAAMlH,KAAKkE,cAAc+C,GAAMjH,KAAKkE,cAAc+C,MACtDC,GAAI9H,KAAK5C,IAGX+J,EAAM/I,UAAU2J,OAAS,SAAS7J,GAChC,GAAIM,GAAKoC,IACTuE,GAAKjH,EAAQ,SAASkH,EAAMC,GAC1B7G,EAAG6G,GAASnH,EAAOmH,MAIhB8B,ICnKT9I,OAAO,mBAAoB,WAMzB,QAASuB,GAAQoI,EAAO9J,GACtB,GAAIC,GAAI,WACN,IAAK,GAAIoI,KAAKyB,GACTA,EAAOC,gBAAkBD,EAAOC,eAAe1B,GAChD3F,KAAK2F,GAAKyB,EAAOzB,GAEjBpI,EAAEC,UAAUmI,GAAKyB,EAAOzB,GAI9B,KAAI,GAAI2B,KAAKhK,GACXC,EAAEC,UAAU8J,GAAKhK,EAAOgK,EAG1B,IAAI9D,GAAI,GAAIjG,EACZ,KAAI,GAAIgK,KAAK/D,GACX4D,EAAOG,GAAK/D,EAAE+D,EAEhB,OAAOH,GAGT,QAASI,GAAQC,GACf,GAAI7C,GAAY3E,SAASyH,cAAc,MAEvC,OADA9C,GAAU+C,UAAYF,EACf7C,EAAUhF,WAAW,GAG9B,QAASgI,KAEP,IAAK,GADDC,GAAM,KACDrJ,EAAI,EAAQ,GAALA,EAAQA,IAAK,CAC3B,GAAIsJ,GAAI5F,KAAKC,MAAsB,GAAhBD,KAAK6F,UAAe3G,SAAS,GAChDyG,IAAOC,GACG,GAALtJ,GAAiB,GAALA,KACfqJ,GAAO,KAEX,MAAOA,GAMT,QAAS9D,GAAKiE,EAAOxL,GAEnB,IAAK,GADDG,MACK6B,EAAI,EAAGA,EAAIwJ,EAAM5K,OAAQoB,IAChChC,EAAGS,KAAKN,EAASqL,EAAMxJ,GAAIA,GAO/B,QAAS+F,GAAK0D,EAAKzL,GACjB,GAAIG,KACJ,KAAK,GAAIgJ,KAAKsC,GACRA,EAAIZ,gBAAkBY,EAAIZ,eAAe1B,IAC3CnJ,EAAGS,KAAKN,EAASsL,EAAItC,GAAIA,GAK/B,QAASvF,GAAK8H,EAAK1D,GACjB,MAAO2D,QAAOrL,OAAOU,UAAU4D,SAASnE,KAAKuH,KAAU,WAAY0D,EAAM,IAU3E,QAAS5B,GAAMc,EAAOgB,GACpB,GAAqB,gBAAXhB,GACR,MAAOA,EAEPgB,GAASA,EAASA,EAAShI,EAAK,SAASgH,QACzC,KAAI,GAAIzB,KAAKyB,GAAO,CAClB,GAAI9C,GAAWlE,EAAK,SAASgH,EAAOzB,IAChCvB,EAAWhE,EAAK,QAASgH,EAAOzB,IAChC0C,EAAW/D,GAAYF,CAExBiE,IACDD,EAAOzC,GAAKrB,QACZgC,EAAMc,EAAOzB,GAAGyC,EAAOzC,KAEvByC,EAAOzC,GAAKyB,EAAOzB,GAGvB,MAAOyC,GAWX,QAAS/D,GAAK+C,EAAO9J,GACnB0C,KAAKsI,WAAY,CACf,KAAI,GAAI3C,KAAKrI,GAAO,CAClB,GAAIgH,GAAWlE,EAAK,SAAS9C,EAAOqI,KAAOvF,EAAK,QAAQ9C,EAAOqI,GAC/D,KAAI3F,KAAKsI,UAAY,OAAO,CAC5B,IAAGhE,GAAY8C,EACb/C,EAAKpH,KAAK+C,KAAKoH,EAAOzB,GAAGrI,EAAOqI,QAC7B,CACH,IAAIyB,EAAO,CACTpH,KAAKsI,WAAY,CACjB,OAEF,GAAGlB,EAAOzB,IAAMrI,EAAOqI,GAAG,CACxB3F,KAAKsI,WAAY,CACjB,SAIN,MAAOtI,MAAKsI,UAGhB,QAAS5D,GAAOpH,GAId,QAASiL,GAAMnB,GACb,MAAGoB,GACMlL,GAAU8J,EACV9C,EACAD,EAAKpH,QAAQmK,EAAO9J,IAAW+G,EAAKpH,QAAQK,EAAO8J,GADtD,OANR,GAAIoB,GAA2B,gBAAVlL,IAAuC,gBAAVA,IAAuC,iBAAVA,IAAwC,mBAAVA,GACzGgH,EAA4B,kBAAVhH,EAUtB,QACE2H,QAAQsD,GA1IZ,GA8IIxL,IA9IWD,OAAOU,UAAU4D,UA+I9BpC,QAAaA,EACbwI,QAAaA,EACbI,KAAaA,EACb7D,KAAaA,EACbQ,KAAaA,EACb+B,MAAaA,EACb5B,OAAaA,EACbN,QAAa,SAAS4D,GAAQ,MAAO5H,GAAK,QAAQ4H,IAClD1D,SAAa,SAAS2D,GAAO,MAAO7H,GAAK,SAAS6H,IAClDhJ,WAAa,SAASgJ,GAAO,MAAO7H,GAAK,WAAW6H,IACpDpE,SAAa,SAAS4D,GAAO,MAAOrH,GAAK,SAASqH,IAClD3D,SAAa,SAAS2E,GAAM,MAAOrI,GAAK,SAASqI,KAGnD,OAAO1L,KC9JTU,OAAO,sBAAsB,SAASV,EAAQ2L,EAAQrL,GAEpD,QAASsL,GAAOlB,EAAItJ,EAAMkB,GA0BxB,QAAS0H,GAAM6B,GACVA,IAAaC,IACdC,EAASrB,EAAItJ,EAAMyK,GACnBC,EAAWD,EACXzK,EAAMuI,SA7BV,CAAA,GAAI/H,GAAQoK,EAAStB,EAAItJ,GACrB0K,EAAWxJ,EAAQV,MAAQA,GAAS,EAG/B8I,GAAIjI,MAAM,KACnBQ,KAAK3B,IAAIoJ,GAAOzH,KAAK3B,IAAIoJ,OACzBzH,KAAK3B,IAAIoJ,GAAKrI,MACZC,QAAQA,EACRC,WAAW,KAAKmI,EAAI,MAItB,IAAIuB,EAEJ3J,GAAQ4J,QAAU,WAChB,GAAIjF,GAAMhE,IACVgJ,GAAWE,YAAY,WACrBnC,EAAM/C,EAAIrF,QACV,KAGJU,EAAQ8J,OAAS,WACfC,cAAcJ,IAYlB,QAASD,GAASxJ,EAAGpB,GACnB,GAAIiK,GAAS,EACb,KAAIjK,EAAO,KAAM,IAAIkL,WAAU,mBAC/B,IAAI9M,GAAMgD,EAAGV,QAAQ,OAAO,IACxBF,EAAQR,EAAM5B,EAClB,OAAoB,gBAAVoC,GAGDA,EAFPyJ,EAASW,EAASxJ,EAAGV,QAAQtC,EAAI,IAAI,IAAIoC,GAO7C,QAASmK,GAASrB,EAAItJ,EAAMQ,GAC1B,IAAIR,EAAO,KAAM,IAAIkL,WAAU,mBAC/B,IAAI9M,GAAMkL,EAAI5I,QAAQ,OAAO,IACzByK,EAAanL,EAAM5B,EACE,iBAAf+M,GACRR,EAASrB,EAAI5I,QAAQtC,EAAI,IAAI,IAAI+M,EAAW3K,GAE5CR,EAAM5B,GAAOoC,EAIjB5B,EAAUM,EAAON,QAAU4L,IC7D7BlL,OAAO,wBAAyB,WAC9B,QAAS8L,GAAQ9B,GACf,GAAIjL,GAAKwD,KAAK7B,MAAMsJ,GAChBtJ,EAAQ6B,KAAK7B,KAEjB6B,MAAK5B,KAAK4I,SAAW,WACnBxK,EAAGS,QAAQ+C,KAAKrB,OAChBR,EAAMuI,SAGV,MAAO6C,KCVT9L,OAAO,uBAAwB,SAASV,EAAQ2L,EAAQrL,GACtD,QAASmM,GAAO/B,EAAItJ,EAAMkB,GACxB,GAAImE,GAAIiE,EAAI5I,QAAQ,SAAS,IACzBrC,EAAK2B,EAAMqF,GAEXiG,EAAQ,WACRrC,EAASK,EAAIiC,MAAMD,GACnBE,IAEDvC,IAAUA,EAAOhK,SAClBuM,EAAOvC,EAAO,GAAG5H,MAAM,KAKzB,KAAK,GADDoK,MACKpL,EAAI,EAAG2F,EAAMwF,EAAKvM,OAAY+G,EAAJ3F,EAASA,IAC1CoL,EAASpL,GAAKL,EAAMwL,EAAKnL,GAGjBwB,MAAK3B,GACfgB,GAAQwK,QAAU,WAChBrN,EAAGkK,MAAMrH,EAAQuK,GACjBzL,EAAMuI,SAIV3J,EAAUM,EAAON,QAAUyM,IC1B7B/L,OAAO,yBAAyB,WAC9B,MAAO,YAGL,CAAA,GAAI4B,GAAUW,KAAK5B,KAEfE,GADQ0B,KAAK7B,MACP6B,KAAK1B,IAELe,GAAQyK,YAAYjL,QAAQP,EAAI,QCR9Cb,OAAO,oBAAqB,WAC1B,QAASsM,GAAItC,EAAItJ,EAAMkB,GACrB,GAAIC,GAAamI,EAAI5I,QAAQ,SAAS,IAElCuB,EAAOd,EAAWT,QAAQ,cAAc,IACxCtC,EAAO+C,EAAWT,QAAQ,cAAc,IACxCrC,EAAK2B,EAAM5B,GAEXkN,EAAQ,WACRrC,EAASK,EAAIiC,MAAMD,GACnBE,IAEDvC,IAAUA,EAAOhK,SAClBuM,EAAOvC,EAAO,GAAG5H,MAAM,KAGzB,IAAIa,GAAQ,KAAOD,CAEnBf,GAAQgB,GAAS,SAAS2J,GAExB,IAAK,GADDJ,MACKpL,EAAI,EAAG2F,EAAMwF,EAAKvM,OAAY+G,EAAJ3F,EAASA,IAAK,CAC/C,GAAIgG,GAAOrG,EAAMwL,EAAKnL,IAAML,EAAMwL,EAAKnL,IAAM,EAC7CoL,GAASxK,KAAKoF,GAEhBhI,EAAGkK,MAAMrH,GAAS2K,GAAGC,OAAOL,IAC5BzL,EAAMuI,SAGV,MAAOqD,KC5BTtM,OAAO,uBAAwB,SAASV,EAAQ2L,GAM5C,QAASwB,GAAY3N,GACnB,MAAOqB,GAAGhB,KAAK,iBAAmBL,GAiBtC,QAASkJ,GAAOgC,EAAItJ,EAAMkB,GAExB,GAAIE,GAAK,OACL4K,EAAM1C,EAAI5I,QAAQuL,EAAS,IAAIvL,QAAQU,EAAI,IAC3C8K,EAAOlM,EAAMgM,GACb5N,EAAMkL,EAAI5I,QAAQyL,EAAU,IAC5BC,EAAalL,EAAQkL,WACrBnM,EAAOmM,EAAW7E,YAAYrG,GAC9BmL,EAAMvK,SAASwK,yBACfzE,EAAKhG,KAAK1B,IACVD,EAAM2B,KAAK3B,IAAI8L,KAEnB/L,GAAKsM,gBAAgB,UACrB3E,EAAa3H,EACbyG,EAAkB0F,EAElBlM,EAAI0H,WAAa3H,EACjBC,EAAIwG,gBAAkB0F,EACtBlM,EAAIyH,MAAQA,EACZzH,EAAI9B,IAAMA,EACV8B,EAAIC,IAAM0H,EACV7H,EAAMwM,aAAexM,EAAMwM,iBAEvBN,GAAQA,EAAKjN,SACfiN,EAAKO,QAAQ,SAAShF,EAAEpH,GACtB,GAAIyH,GAAK7H,EAAK8H,WAAU,GACpBC,KACA5I,EAAI,SAASiG,GAEfxD,KAAKzD,GAAOiH,EAEdjG,GAAEC,UAAYW,CAEd,IAAItB,GAAM,GAAIU,GAAEqI,EAChB/I,GAAIuJ,WACJvJ,EAAIuJ,QAAQ7J,GAAQ4J,EACpBtJ,EAAIwJ,YACJxJ,EAAIwJ,SAAS9J,GAAO4B,EAAMkI,UAAYlI,EAAMkI,SAAS8D,GAAK3L,IAAMqM,EAAMvE,MAAMV,GAC5E/I,EAAIqH,iBACJ/F,EAAMwM,aAAavL,KAAKvC,GACxBiJ,EAAME,EAAIC,EAAIpJ,EAAKN,EAAK4J,GACxBA,EAAEV,OAASQ,EACX5H,EAAIe,KAAK+G,GACTqE,EAAIM,YAAY7E,KAElBsE,EAAWO,YAAYN,IAO3B,QAAS1E,GAAMxH,EAAKR,EAAKK,EAAO5B,EAAK8B,GACnC,GAAIJ,IAAY,CAoChB,IAnCIH,EAAIS,YAAcT,EAAIS,WAAWnB,QACnC2N,MAAMvN,UAAUoN,QAAQ3N,KAAKa,EAAIS,WAAY,SAASE,GAEpD,GAAIH,EAAIa,KAAKV,EAAKG,WAAY,CAC5B,GAAI8D,GAAIjE,EAAKG,UAAUC,QAAQP,EAAK,IAAIO,QAAQtC,EAAM,IAAK,GACtD8B,GAAIqE,KACPrE,EAAIqE,OAENrE,EAAIqE,GAAGtD,MACLC,QAASZ,EACTa,WAAYb,EAAKG,WAEnB,IAAID,GAA8B,gBAAdR,GAAM5B,GAAmB4B,EAAM5B,GAAKmG,GAAKvE,EAAM5B,EACnEkC,GAAKG,UAAYH,EAAKG,UAAUC,QAAQ,SAAUF,GAOpD,GAJAhC,EAAQyB,KAAON,EACfnB,EAAQwB,MAAQA,EAChBxB,EAAQ2B,IAAMA,EACd3B,EAAQ0B,IAAMA,EACV,WAAaI,EAAKC,SAAU,CAC9BT,GAAY,CACZ,IAAI+M,GAAKvM,EAAKG,UAAUC,QAAQuL,EAAQ,IAAIvL,QAAQ,OAAO,GAC3DlC,GAAQwB,MAAQA,EAAM6M,GACtBvF,EAAOxI,KAAKN,EAAS8B,EAAKG,UAAUC,QAAQP,EAAK,IAAIH,EAAM6M,GAAIlN,OAC5D,CACH,GAAIgB,GAAUoL,EAAYzL,EAAKC,SAC/B,IAAGmM,EAAM5L,WAAWH,GAAS,CAC3B,GAAI2I,GAAMhJ,EAAKG,UAAUC,QAAQP,EAAK,GACtC3B,GAAQ0B,OACRS,EAAQ7B,KAAKN,EAAQ8K,EAAItJ,EAAMxB,EAAQyB,UAK3CE,EAAIa,KAAKrB,EAAIc,WAAY,CAC3B,GAAI8D,GAAI5E,EAAIc,UAAUC,QAAQP,EAAK,IAAIO,QAAQtC,EAAM,IAAK,GACrD8B,GAAIqE,KACPrE,EAAIqE,OAENrE,EAAIqE,GAAGtD,MACLC,QAASvB,EACTwB,WAAYxB,EAAIc,WAKlB,IAAID,GAA8B,gBAAdR,GAAM5B,GAAmB4B,EAAM5B,GAAKmG,GAAKvE,EAAM5B,EACnEuB,GAAIc,UAAYd,EAAIc,UAAUC,QAAQ,SAAUF,GAE9Cb,EAAI8B,YAAc9B,EAAI8B,WAAWxC,SAAWa,GAC9C8M,MAAMvN,UAAUoN,QAAQ3N,KAAKa,EAAI8B,WAAY,SAASC,GACpDiG,EAAMxH,EAAKuB,EAAO1B,EAAO5B,EAAK8B,KAjIpC,GAmBI0H,GAAWlB,EAnBXgG,EAAQnC,EAAQ,oBAGhB9K,GAFQ8K,EAAQ,gBAAgB3I,KACxB2I,EAAQ,oBACR1I,MAiBRoK,EAAU,SACVE,EAAW,SAmDX3N,IA8DJ,OAAO8I,KCvIThI,OAAO,sBAAuB,WAM5B,QAASwN,GAAOxD,GACdzH,KAAK5B,KAAKsM,gBAAgB,QAC1B,IAAIpN,GAASM,EAAGhB,KAAK6K,EACrB,IAAI9C,EAAML,SAAShH,GAAS,CAC1B,GAAIT,GAAM,GAAIqO,EAGd,KAAI,GAAIvF,KAAK9I,GACVS,EAAOqI,GAAK9I,EAAI8I,EAEnBrI,GAAO+I,SAAW1B,EAAM2B,MAAMhJ,GAC9BA,EAAO8I,QAAWpG,KAAK3B,IACvB2B,KAAK7B,MAAQb,MACR,IAAIqH,EAAM1F,WAAW3B,GAAS,CACnC,GAAI6I,GAAI,GAAI+E,EACZlL,MAAK7B,MAAQgI,EACb7I,EAAOL,KAAKkJ,GACZA,EAAEE,SAAW1B,EAAM2B,MAAMH,GACzBA,EAAEC,QAAWpG,KAAK3B,QACb,CACL,GACI8M,IADOxG,EAAMiD,OACR,GAAIsD,GACbC,GAAG9E,SAAW1B,EAAM2B,MAAM6E,GAC1BA,EAAG/E,QAAWpG,KAAK3B,IACnB2B,KAAK7B,MAASgN,GA5BlB,GAAIvN,GAAKoC,KACLkL,EAAQtN,EAAGhB,KAAK,oBAChB+H,EAAQ/G,EAAGhB,KAAK,mBA8BpB,OAAOqO"}